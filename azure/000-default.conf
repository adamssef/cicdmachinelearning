<VirtualHost *:80>
	ServerAdmin webmaster@localhost
	DocumentRoot ${APACHE_DOCUMENT_ROOT}
	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>

<VirtualHost *:80>
    ServerName shopperportal.weareplanet.com
    ServerAlias www.shopperportal.weareplanet.com
    Redirect permanent / https://europe-taxfree.planetpayment.com/ShopperPortalEU
</VirtualHost>

<VirtualHost *:80>
    ServerName protel.net
    ServerAlias www.protel.net

    # Specific blog post redirects
    RedirectMatch permanent "^/blog/12-types-of-guests-and-tips-on-how-to-exceed-their-expectations/?$" "https://www.weareplanet.com/blog/hotel-guest-types"
    RedirectMatch permanent "^/blog/9-online-travel-agents-for-hotels/?$" "https://www.weareplanet.com/blog/online-travel-agents-otas"
    RedirectMatch permanent "^/blog/hotel-inventory-management-system-how-to-maximize-hotels-roi/?$" "https://www.weareplanet.com/blog/hotel-inventory-management"
    RedirectMatch permanent "^/blog/everything-you-need-to-know-about-boutique-hotels/?$" "https://www.weareplanet.com/blog/everything-you-need-know-about-boutique-hotels"

    # Resource and system pages
    RedirectMatch permanent "^/resources/what-is-hotel-channel-manager/?$" "https://www.weareplanet.com/blog/what-hotel-channel-manager"
    RedirectMatch permanent "^/property-management-system/?$" "https://www.weareplanet.com/blog/property-management-system"

    # Language specific redirects
    RedirectMatch permanent "^/de/blog-de/?$" "https://www.weareplanet.com/blog"
    RedirectMatch permanent "^/blog/?$" "https://www.weareplanet.com/blog"

    # Catch-all language redirects (order is important - more specific rules first)
    RedirectMatch permanent "^/de/rechtlich/(.*)$" "https://www.weareplanet.com/de/rechtlich-terms-conditions"
    RedirectMatch permanent "^/es/(.*)$" "https://www.weareplanet.com/es/bienvenido-protel"
    RedirectMatch permanent "^/fr/(.*)$" "https://www.weareplanet.com/fr/bienvenue-protel"
    RedirectMatch permanent "^/de/(.*)$" "https://www.weareplanet.com/de/willkommen-protel"
    RedirectMatch permanent "^/he/(.*)$" "https://www.weareplanet.com/welcome-protel/"

    # Legal page redirect
    RedirectMatch permanent "^/legal$" "https://www.weareplanet.com/de/rechtlich-terms-conditions"

    # Blog catch-all (should be after specific blog redirects)
    RedirectMatch permanent "^/blog/(.*)$" "https://www.weareplanet.com/blog"

    # Root domain catch-all (should be last)
    RedirectMatch permanent "^/$" "https://www.weareplanet.com/welcome-protel"
</VirtualHost>
<VirtualHost *:443>
    ServerName www.weareplanet.com
    DocumentRoot /var/www/html/docroot

    # SECURITY HEADERS (Report-Only Mode for now)
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
    Header always set Permissions-Policy "camera=(), microphone=(), geolocation=(), interest-cohort=()"
    ErrorLog ${APACHE_LOG_DIR}/weareplanet_error.log
    CustomLog ${APACHE_LOG_DIR}/weareplanet_access.log combined
</VirtualHost>
